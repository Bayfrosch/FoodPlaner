module.exports=[90139,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(93462);function e({recipe:a,shoppingLists:e,onDelete:f,onEdit:g}){let[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)([]),z=a.items||[],A=async()=>{if(!l)return void s("Bitte wählen Sie eine Liste aus");let b=x.length>0?x:z.map((a,b)=>b);o(!0),s(""),u("");try{await d.recipes.addToList(a.id,l,b),u(`${b.length} Zutat(en) hinzugef\xfcgt!`),m(null),y([]),setTimeout(()=>u(""),3e3)}catch(a){s(a instanceof Error?a.message:"Fehler beim Hinzufügen")}finally{o(!1)}},B=a=>{y(b=>b.includes(a)?b.filter(b=>b!==a):[...b,a])},C=async()=>{if(window.confirm(`"${a.title}" wirklich l\xf6schen?`)){q(!0);try{await d.recipes.delete(a.id),f()}catch(a){console.error("Error deleting recipe:",a),s(a instanceof Error?a.message:"Fehler beim Löschen des Rezepts"),q(!1)}}};return(0,b.jsxs)("div",{className:"bg-gradient-to-br from-[#14141f]/90 to-[#1a1a2e]/90 backdrop-blur-sm border border-purple-500/30 rounded-3xl p-6 shadow-lg hover:shadow-purple-500/20 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4 mb-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-1",children:a.title}),(0,b.jsxs)("p",{className:"text-gray-400 text-sm",children:[z.length," Zutat(en)"]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>g(a),className:"px-3 py-2 bg-blue-500/20 border border-blue-500/50 hover:bg-blue-500/30 text-blue-400 rounded-xl text-sm font-medium transition-all",children:"Edit"}),(0,b.jsx)("button",{onClick:C,disabled:p,className:"px-3 py-2 bg-red-500/20 border border-red-500/50 hover:bg-red-500/30 disabled:opacity-50 disabled:cursor-not-allowed text-red-400 rounded-xl text-sm font-medium transition-all",children:p?"Wird gelöscht...":"Delete"})]})]}),a.description&&(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:`text-gray-300 text-sm mb-2 whitespace-pre-wrap ${!j?"line-clamp-2":""}`,children:a.description}),a.description.split("\n").length>2&&(0,b.jsx)("button",{onClick:()=>k(!j),className:"text-purple-400 hover:text-purple-300 text-xs font-medium mb-4 transition-colors",children:j?"weniger":"mehr"})]}),!h&&z.length>0&&(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[z.slice(0,3).map((a,c)=>{let d=0===x.length||x.includes(c);return(0,b.jsx)("button",{onClick:()=>B(c),className:`px-3 py-1 text-xs rounded-full border transition-all cursor-pointer ${d?"bg-purple-500/20 text-purple-400 border-purple-500/30 hover:bg-purple-500/30":"bg-gray-800/30 text-gray-500 border-gray-600/30 hover:bg-gray-800/50"}`,title:d?"Click to deselect":"Click to select",children:a.name},c)}),z.length>3&&(0,b.jsxs)("span",{className:"px-3 py-1 bg-purple-500/10 text-purple-300 text-xs rounded-full",children:["+",z.length-3," more"]})]})}),h&&z.length>0&&(0,b.jsxs)("div",{className:"mb-4 bg-[#1a1a2e]/50 rounded-2xl p-4",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Zutaten:"}),(0,b.jsx)("div",{className:"space-y-2",children:z.map((a,c)=>{let d=0===x.length||x.includes(c);return(0,b.jsxs)("div",{className:`flex items-center gap-3 text-sm p-2 rounded-lg transition-all cursor-pointer ${d?"bg-purple-500/20 text-purple-300 hover:bg-purple-500/30":"bg-gray-800/30 text-gray-500 hover:bg-gray-800/50"}`,onClick:()=>B(c),children:[(0,b.jsx)("input",{type:"checkbox",checked:d,onChange:()=>B(c),className:"w-4 h-4 cursor-pointer accent-purple-500"}),(0,b.jsx)("span",{className:`font-bold ${d?"text-purple-400":"text-gray-600"}`,children:"-"}),(0,b.jsx)("span",{children:a.name})]},c)})})]}),z.length>3&&(0,b.jsxs)("button",{onClick:()=>i(!h),className:"text-purple-400 hover:text-purple-300 text-sm font-medium mb-4 transition-colors flex items-center gap-2",children:[(0,b.jsx)("span",{className:`transition-transform duration-300 ${h?"rotate-180":""}`,children:"▼"}),h?"Show less":"Show all"]}),e.length>0&&(0,b.jsxs)("div",{className:"border-t border-purple-500/20 pt-4 mt-4",children:[r&&(0,b.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 text-red-400 px-3 py-2 rounded-xl text-xs mb-3 flex items-center justify-between",children:[(0,b.jsx)("span",{children:r}),(0,b.jsx)("button",{onClick:()=>s(""),className:"text-red-400 hover:text-red-300",children:"Close"})]}),t&&(0,b.jsxs)("div",{className:"bg-green-500/10 border border-green-500/30 text-green-400 px-3 py-2 rounded-xl text-xs mb-3 flex items-center justify-between",children:[(0,b.jsx)("span",{children:t}),(0,b.jsx)("button",{onClick:()=>u(""),className:"text-green-400 hover:text-green-300",children:"Close"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsxs)("button",{onClick:()=>w(!v),className:"w-full px-4 py-2 bg-[#1a1a2e] border border-purple-500/30 hover:border-purple-500/60 rounded-xl text-sm text-gray-300 font-medium transition-all flex items-center justify-between group",children:[(0,b.jsx)("span",{children:l?e.find(a=>a.id===l)?.title:"Select a list..."}),(0,b.jsx)("span",{className:`transition-transform duration-300 ${v?"rotate-180":""}`,children:"▼"})]}),v&&(0,b.jsx)("div",{className:"absolute top-full left-0 right-0 mt-2 bg-[#14141f] border border-purple-500/40 rounded-2xl shadow-2xl z-40 overflow-hidden backdrop-blur-sm animate-in fade-in slide-in-from-top-2 duration-200",children:(0,b.jsx)("div",{className:"max-h-64 overflow-y-auto",children:0===e.length?(0,b.jsx)("div",{className:"px-4 py-3 text-gray-400 text-sm text-center",children:"No lists available"}):e.map((a,c)=>(0,b.jsx)("button",{onClick:()=>{m(a.id),w(!1)},className:`w-full px-4 py-3 text-left text-sm transition-all border-b border-purple-500/10 last:border-b-0 ${l===a.id?"bg-purple-500/30 text-purple-300 font-medium":"text-gray-300 hover:bg-purple-500/20 hover:text-purple-300"}`,style:{animation:`slideInUp 0.2s ease-out ${30*c}ms both`},children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"List"}),(0,b.jsx)("span",{children:a.title}),l===a.id&&(0,b.jsx)("span",{className:"ml-auto text-purple-400 font-bold",children:"Checked"})]})},a.id))})})]}),(0,b.jsxs)("button",{onClick:A,disabled:!l||n,className:"px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 disabled:from-gray-600 disabled:to-gray-700 text-white rounded-xl font-medium text-sm transition-all shadow-lg shadow-green-500/30 hover:shadow-green-500/50 disabled:shadow-none flex items-center gap-2 active:scale-95",children:[(0,b.jsx)("span",{className:n?"animate-spin":"",children:"+"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:n?"Adding...":"Add"})]})]})]})]})}function f({isOpen:a,onClose:e,onSave:f,recipe:g}){let[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)([]),[x,y]=(0,c.useState)();(0,c.useEffect)(()=>{g&&g.id!==x?(y(g.id),i(g.title),k(g.description),m(g.items||[]),w(g.items?.filter(a=>a.category).map(a=>a.category).filter((a,b,c)=>c.indexOf(a)===b)||[])):!g&&a&&z()},[g?.id,a]);let z=()=>{i(""),k(""),m([]),o(""),q(""),u("")},A=()=>{n.trim()?(m([...l,{name:n,category:p||void 0}]),o(""),q("")):u("Bitte einen Zutatnamen eingeben")},B=async()=>{if(u(""),!h.trim())return void u("Rezeptname ist erforderlich");if(0===l.length)return void u("Mindestens ein Zutat ist erforderlich");s(!0);try{g?await d.recipes.update(g.id,h,j,l):await d.recipes.create(h,j,l),f(),z()}catch(a){u(a instanceof Error?a.message:"Fehler beim Speichern")}finally{s(!1)}};return a?(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-gradient-to-br from-[#14141f]/95 to-[#1a1a2e]/95 backdrop-blur-sm border border-purple-500/30 rounded-3xl p-4 md:p-8 max-w-2xl w-full max-h-[95vh] md:max-h-[90vh] overflow-y-auto shadow-2xl",children:[(0,b.jsx)("h2",{className:"text-xl md:text-2xl font-bold text-white mb-4 md:mb-6",children:g?"Rezept bearbeiten":"Neues Rezept"}),t&&(0,b.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 text-red-400 px-3 md:px-4 py-3 rounded-2xl mb-4 md:mb-6 flex items-center justify-between text-sm md:text-base",children:[(0,b.jsx)("span",{className:"text-xs md:text-sm",children:t}),(0,b.jsx)("button",{onClick:()=>u(""),className:"text-red-400 hover:text-red-300",children:"Close"})]}),(0,b.jsxs)("div",{className:"mb-4 md:mb-6",children:[(0,b.jsx)("label",{className:"block text-gray-300 text-xs md:text-sm font-medium mb-2",children:"Rezeptname"}),(0,b.jsx)("input",{type:"text",value:h,onChange:a=>i(a.target.value),placeholder:"z.B. Spaghetti Carbonara",className:"w-full px-3 md:px-4 py-2 md:py-3 text-sm md:text-base bg-[#1a1a2e] border border-purple-500/30 rounded-2xl text-white placeholder-gray-500 focus:outline-none focus:border-purple-400 focus:ring-2 focus:ring-purple-500/30 transition-all"})]}),(0,b.jsxs)("div",{className:"mb-4 md:mb-6",children:[(0,b.jsx)("label",{className:"block text-gray-300 text-xs md:text-sm font-medium mb-2",children:"Beschreibung"}),(0,b.jsx)("textarea",{value:j,onChange:a=>k(a.target.value),placeholder:"Beschreiben Sie das Rezept...",rows:4,className:"w-full px-3 md:px-4 py-2 md:py-3 text-sm md:text-base bg-[#1a1a2e] border border-purple-500/30 rounded-2xl text-white placeholder-gray-500 focus:outline-none focus:border-purple-400 focus:ring-2 focus:ring-purple-500/30 transition-all"})]}),(0,b.jsxs)("div",{className:"mb-4 md:mb-6",children:[(0,b.jsx)("h3",{className:"text-base md:text-lg font-semibold text-white mb-3 md:mb-4",children:"Zutaten"}),(0,b.jsxs)("div",{className:"flex flex-col gap-2 mb-3 md:mb-4",children:[(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{type:"text",value:n,onChange:a=>o(a.target.value),onKeyPress:a=>"Enter"===a.key&&A(),placeholder:"Zutat hinzufügen...",className:"flex-1 px-3 md:px-4 py-2 md:py-3 text-sm md:text-base bg-[#1a1a2e] border border-purple-500/30 rounded-2xl text-white placeholder-gray-500 focus:outline-none focus:border-purple-400 focus:ring-2 focus:ring-purple-500/30 transition-all"}),(0,b.jsx)("button",{type:"button",onClick:A,className:"px-3 md:px-6 py-2 md:py-3 text-sm md:text-base bg-purple-500/20 border border-purple-500/50 hover:bg-purple-500/30 text-purple-400 rounded-2xl font-medium transition-all whitespace-nowrap flex-shrink-0",children:"+ Hinzufügen"})]}),(0,b.jsx)("input",{type:"text",value:p,onChange:a=>q(a.target.value),placeholder:"Kategorie wählen oder eingeben...",list:"categoryList",className:"w-full px-3 md:px-4 py-2 md:py-3 text-sm md:text-base bg-[#1a1a2e] border border-purple-500/30 rounded-2xl text-white placeholder-gray-500 focus:outline-none focus:border-purple-400 focus:ring-2 focus:ring-purple-500/30 transition-all"}),(0,b.jsx)("datalist",{id:"categoryList",children:v.map(a=>(0,b.jsx)("option",{value:a},a))})]}),(0,b.jsx)("div",{className:"space-y-2",children:l.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center justify-between bg-[#1a1a2e] border border-purple-500/20 rounded-2xl px-3 md:px-4 py-2 md:py-3",children:[(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("span",{className:"text-gray-300 text-sm md:text-base break-words",children:a.name}),a.category&&(0,b.jsx)("div",{className:"text-xs text-purple-400 mt-1",children:a.category})]}),(0,b.jsx)("button",{type:"button",onClick:()=>{m(l.filter((a,b)=>b!==c))},className:"text-red-400 hover:text-red-300 hover:bg-red-500/10 transition-all flex-shrink-0 ml-2 px-2 py-1 rounded",children:"✕"})]},c))}),0===l.length&&(0,b.jsx)("p",{className:"text-gray-400 text-xs md:text-sm text-center py-4",children:"Noch keine Zutaten hinzugefügt"})]}),(0,b.jsxs)("div",{className:"flex flex-col md:flex-row gap-3",children:[(0,b.jsx)("button",{onClick:()=>{z(),e()},className:"flex-1 px-4 py-2 md:py-3 text-sm md:text-base text-gray-300 bg-[#1a1a2e] border border-purple-500/20 hover:border-purple-500/50 hover:bg-[#14141f] rounded-2xl font-medium transition-all",children:"Abbrechen"}),(0,b.jsx)("button",{onClick:B,disabled:r,className:"flex-1 px-4 py-2 md:py-3 text-sm md:text-base text-white bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 disabled:from-gray-600 disabled:to-gray-700 rounded-2xl font-bold transition-all shadow-lg shadow-purple-500/40 hover:shadow-purple-500/60 hover:scale-[1.02] active:scale-95",children:r?"Wird gespeichert...":"Speichern"})]})]})}):null}function g({shoppingLists:a}){let[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(void 0);(0,c.useEffect)(()=>{q()},[]);let q=async()=>{try{j(!0),l("");let a=await d.recipes.getAll();h(a)}catch(a){l(a instanceof Error?a.message:"Fehler beim Laden der Rezepte")}finally{j(!1)}},r=a=>{p(a),n(!0)},s=()=>{n(!1),p(void 0)},t=()=>{q()};return i?(0,b.jsx)("div",{className:"flex items-center justify-center py-8 sm:py-12",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-10 sm:w-12 h-10 sm:h-12 border-4 border-purple-500/30 border-t-purple-500 rounded-full animate-spin mx-auto mb-3 sm:mb-4"}),(0,b.jsx)("p",{className:"text-xs sm:text-base text-gray-400",children:"Lädt Rezepte..."})]})}):(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4 mb-6 sm:mb-8 relative z-10",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg sm:text-2xl font-bold text-white mb-1 sm:mb-2",children:"Meine Rezepte"}),(0,b.jsxs)("p",{className:"text-xs sm:text-base text-gray-400",children:[g.length," Rezept(e) verfügbar"]})]}),(0,b.jsx)("button",{onClick:()=>r(),className:"px-4 sm:px-6 py-2 sm:py-3 bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white rounded-lg sm:rounded-2xl font-bold transition-all shadow-lg shadow-purple-500/40 hover:scale-[1.02] active:scale-95 text-xs sm:text-base whitespace-nowrap",children:"+ Neues Rezept"})]}),k&&(0,b.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 text-red-400 px-3 sm:px-4 py-2 sm:py-3 rounded-lg sm:rounded-2xl mb-4 sm:mb-6 flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-xs sm:text-base",children:k}),(0,b.jsx)("button",{onClick:()=>l(""),className:"text-red-400 hover:text-red-300 flex-shrink-0",children:"✕"})]}),0===g.length?(0,b.jsxs)("div",{className:"bg-gradient-to-br from-[#14141f]/50 to-[#1a1a2e]/50 border border-purple-500/20 rounded-2xl sm:rounded-3xl p-8 sm:p-12 text-center",children:[(0,b.jsx)("svg",{className:"w-12 sm:w-16 h-12 sm:h-16 text-purple-500/30 mx-auto mb-3 sm:mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6v6m0 0v6m0-6h6m0 0h6m-6-6h6m0 0h6M6 12h6m0 0h6"})}),(0,b.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-300 mb-2",children:"Noch keine Rezepte"}),(0,b.jsx)("p",{className:"text-xs sm:text-base text-gray-400 mb-4 sm:mb-6",children:"Erstellen Sie Ihr erstes Rezept, um es später zu Ihren Einkaufslisten hinzuzufügen"}),(0,b.jsx)("button",{onClick:()=>r(),className:"px-4 sm:px-6 py-2 sm:py-3 bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white rounded-lg sm:rounded-2xl font-bold transition-all text-xs sm:text-base",children:"Rezept erstellen"})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:g.map(c=>(0,b.jsx)(e,{recipe:c,shoppingLists:a,onDelete:t,onEdit:r},c.id))}),(0,b.jsx)(f,{isOpen:m,onClose:s,onSave:()=>{s(),q()},recipe:o})]})}a.s(["default",()=>g],90139)}];

//# sourceMappingURL=src_app_recipes_page_tsx_33bcebd6._.js.map