module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},93462,a=>{"use strict";let b=async(a,b={})=>{let c={"Content-Type":"application/json",...b.headers},d=await fetch(`http://localhost:3000/api${a}`,{...b,headers:c});if(!d.ok){let a={error:"API Error"};try{let b=d.headers.get("content-type");a=b?.includes("application/json")?await d.json():{error:`HTTP ${d.status}: ${d.statusText}`}}catch(b){a={error:`HTTP ${d.status}: ${d.statusText}`}}throw Error(a.error||"API Error")}return d.json()};a.s(["auth",0,{register:(a,c)=>b("/auth/register",{method:"POST",body:JSON.stringify({username:a,password:c})}),login:(a,c)=>b("/auth/login",{method:"POST",body:JSON.stringify({username:a,password:c})}),me:()=>b("/auth/me"),updateProfile:(a,c)=>b("/auth/profile",{method:"PUT",body:JSON.stringify({currentPassword:a,newPassword:c})}),logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("userId")}},"collaborators",0,{getAll:a=>b(`/lists/${a}/collaborators`),invite:(a,c,d)=>b(`/lists/${a}/collaborators`,{method:"POST",body:JSON.stringify({username:c,role:d})}),add:(a,c,d)=>b(`/lists/${a}/collaborators`,{method:"POST",body:JSON.stringify({userId:c,role:d})}),update:(a,c,d)=>b(`/lists/${a}/collaborators/${c}`,{method:"PUT",body:JSON.stringify({role:d})}),remove:(a,c)=>b(`/lists/${a}/collaborators/${c}`,{method:"DELETE"}),accept:(a,c)=>b(`/lists/${a}/collaborators/${c}/accept`,{method:"POST"})},"items",0,{getAll:a=>b(`/lists/${a}/items`),create:(a,c)=>b(`/lists/${a}/items`,{method:"POST",body:JSON.stringify({name:c})}),update:(a,c,d)=>b(`/lists/${a}/items/${c}`,{method:"PUT",body:JSON.stringify({completed:d})}),updateCategory:(a,c,d)=>b(`/lists/${a}/items/${c}`,{method:"PUT",body:JSON.stringify({category:d})}),delete:(a,c)=>b(`/lists/${a}/items/${c}`,{method:"DELETE"})},"lists",0,{getAll:()=>b("/lists"),getById:a=>b(`/lists/${a}`),create:(a,c="")=>b("/lists",{method:"POST",body:JSON.stringify({title:a,description:c})}),update:(a,c,d)=>b(`/lists/${a}`,{method:"PUT",body:JSON.stringify({title:c,description:d})}),delete:a=>b(`/lists/${a}`,{method:"DELETE"}),getCategories:a=>b(`/lists/${a}/categories`),syncCategory:(a,c,d)=>b(`/lists/${a}/categories`,{method:"POST",body:JSON.stringify({itemName:c,category:d})}),deleteCategory:(a,c)=>b(`/lists/${a}/categories/${encodeURIComponent(c)}`,{method:"DELETE"}),getCategoryOrder:a=>b(`/lists/${a}/categories/order`),updateCategoryOrder:(a,c)=>b(`/lists/${a}/categories/order`,{method:"PUT",body:JSON.stringify({categories:c})})},"recipes",0,{getAll:()=>b("/recipes"),getById:a=>b(`/recipes/${a}`),create:(a,c="",d=[])=>b("/recipes",{method:"POST",body:JSON.stringify({title:a,description:c,items:d})}),update:(a,c,d,e)=>b(`/recipes/${a}`,{method:"PUT",body:JSON.stringify({title:c,description:d,items:e})}),delete:a=>b(`/recipes/${a}`,{method:"DELETE"}),addItem:(a,c)=>b(`/recipes/${a}/items`,{method:"POST",body:JSON.stringify({name:c})}),deleteItem:(a,c)=>b(`/recipes/${a}/items/${c}`,{method:"DELETE"}),addToList:(a,c,d)=>b(`/recipes/${a}/add-to-list`,{method:"POST",body:JSON.stringify({listId:c,selectedItemIds:d})})}])},70298,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(93462);function f(){let a=(0,d.useRouter)(),[f,g]=(0,c.useState)(null),[h,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)(!1);(0,c.useEffect)(()=>{o(!0)},[]),(0,c.useEffect)(()=>{n&&(x(),y())},[n]);let x=()=>{localStorage.getItem("token")||a.push("/login")},y=async()=>{try{i(!0);let a=await e.auth.me();g(a)}catch(a){k(a instanceof Error?a.message:"Fehler beim Laden des Profils"),console.error(a)}finally{i(!1)}},z=async a=>{if(a.preventDefault(),k(""),m(""),!p)return void k("Aktuelles Passwort erforderlich zur Bestätigung");if(r&&r!==t)return void k("Passwörter stimmen nicht überein");if(r&&r.length<3)return void k("Neues Passwort muss mindestens 3 Zeichen lang sein");w(!0);try{await e.auth.updateProfile(p,r||void 0),m("Profil erfolgreich aktualisiert!"),s(""),u(""),q(""),setTimeout(()=>y(),1e3)}catch(a){k(a instanceof Error?a.message:"Fehler beim Aktualisieren")}finally{w(!1)}};return h?(0,b.jsx)("div",{className:"min-h-screen bg-[#0a0a0f] flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-10 sm:w-12 h-10 sm:h-12 border-4 border-purple-500/30 border-t-purple-500 rounded-full animate-spin mx-auto mb-3 sm:mb-4"}),(0,b.jsx)("p",{className:"text-xs sm:text-base text-gray-400",children:"Lädt Profil..."})]})}):f?(0,b.jsxs)("div",{className:"min-h-screen bg-[#0a0a0f] flex flex-col",children:[(0,b.jsx)("header",{className:"bg-gradient-to-b from-[#14141f] to-transparent border-b border-[#2d2d3f]/50",children:(0,b.jsx)("div",{className:"max-w-6xl mx-auto px-3 sm:px-6 py-4 sm:py-6",children:(0,b.jsxs)("div",{className:"flex justify-between items-center gap-2 sm:gap-4",children:[(0,b.jsxs)("button",{onClick:()=>a.push("/dashboard"),className:"inline-flex items-center gap-1 sm:gap-2 text-purple-400 hover:text-purple-300 text-xs sm:text-sm font-medium transition-all group flex-shrink-0",children:[(0,b.jsx)("svg",{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Zurück zum Dashboard"}),(0,b.jsx)("span",{className:"sm:hidden",children:"Zurück"})]}),(0,b.jsx)("h1",{className:"text-lg sm:text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent text-center flex-1",children:"Profil"}),(0,b.jsx)("div",{className:"w-0 sm:w-20"})]})})}),(0,b.jsx)("main",{className:"flex-1 flex flex-col items-center max-w-4xl mx-auto px-3 sm:px-6 py-4 sm:py-8 w-full",children:(0,b.jsxs)("div",{className:"w-full max-w-2xl",children:[(0,b.jsx)("div",{className:"bg-gradient-to-br from-[#14141f]/90 to-[#1a1a2e]/90 backdrop-blur-sm border border-purple-500/30 rounded-2xl sm:rounded-3xl p-6 sm:p-8 mb-4 sm:mb-8 shadow-2xl shadow-purple-500/20",children:(0,b.jsxs)("div",{className:"border-t border-purple-500/20 pt-4 sm:pt-6",children:[(0,b.jsxs)("div",{className:"mb-3 sm:mb-4",children:[(0,b.jsx)("label",{className:"text-gray-400 text-xs sm:text-sm",children:"Benutzername"}),(0,b.jsx)("p",{className:"text-white text-base sm:text-lg font-semibold",children:f.username})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-gray-400 text-xs sm:text-sm",children:"User ID"}),(0,b.jsxs)("p",{className:"text-white text-base sm:text-lg font-semibold",children:["#",f.id]})]})]})}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-[#14141f]/90 to-[#1a1a2e]/90 backdrop-blur-sm border border-purple-500/30 rounded-2xl sm:rounded-3xl p-6 sm:p-8 shadow-2xl shadow-purple-500/20",children:[(0,b.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-white mb-4 sm:mb-6",children:"Einstellungen ändern"}),j&&(0,b.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 text-red-400 px-3 sm:px-4 py-2 sm:py-3 rounded-lg sm:rounded-2xl mb-4 sm:mb-6 flex items-center justify-between backdrop-blur-sm",children:[(0,b.jsx)("span",{className:"text-xs sm:text-sm",children:j}),(0,b.jsx)("button",{onClick:()=>k(""),className:"text-red-400 hover:text-red-300 flex-shrink-0",children:"✕"})]}),l&&(0,b.jsxs)("div",{className:"bg-green-500/10 border border-green-500/30 text-green-400 px-3 sm:px-4 py-2 sm:py-3 rounded-lg sm:rounded-2xl mb-4 sm:mb-6 flex items-center justify-between backdrop-blur-sm",children:[(0,b.jsx)("span",{className:"text-xs sm:text-sm",children:l}),(0,b.jsx)("button",{onClick:()=>m(""),className:"text-green-400 hover:text-green-300 flex-shrink-0",children:"✕"})]}),(0,b.jsxs)("form",{onSubmit:z,className:"space-y-4 sm:space-y-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-gray-300 text-xs sm:text-sm font-medium mb-2",children:"Aktuelles Passwort (zur Bestätigung)"}),(0,b.jsx)("input",{type:"password",value:p,onChange:a=>q(a.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-[#1a1a2e] border border-purple-500/30 rounded-lg sm:rounded-2xl text-white placeholder-gray-500 focus:outline-none focus:border-purple-400 focus:ring-2 focus:ring-purple-500/30 transition-all text-sm",placeholder:"••••••••",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-gray-300 text-xs sm:text-sm font-medium mb-2",children:"Neues Passwort (optional)"}),(0,b.jsx)("input",{type:"password",value:r,onChange:a=>s(a.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-[#1a1a2e] border border-purple-500/30 rounded-lg sm:rounded-2xl text-white placeholder-gray-500 focus:outline-none focus:border-purple-400 focus:ring-2 focus:ring-purple-500/30 transition-all text-sm",placeholder:"••••••••"}),r&&(0,b.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Mindestens 3 Zeichen erforderlich"})]}),r&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-gray-300 text-xs sm:text-sm font-medium mb-2",children:"Passwort wiederholen"}),(0,b.jsx)("input",{type:"password",value:t,onChange:a=>u(a.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-[#1a1a2e] border border-purple-500/30 rounded-lg sm:rounded-2xl text-white placeholder-gray-500 focus:outline-none focus:border-purple-400 focus:ring-2 focus:ring-purple-500/30 transition-all text-sm",placeholder:"••••••••"})]}),(0,b.jsxs)("div",{className:"flex gap-2 sm:gap-3 pt-3 sm:pt-4",children:[(0,b.jsx)("button",{type:"button",onClick:()=>a.push("/dashboard"),className:"flex-1 px-3 sm:px-4 py-2 sm:py-3 text-gray-300 bg-[#1a1a2e] border border-purple-500/20 hover:border-purple-500/50 hover:bg-[#14141f] rounded-lg sm:rounded-2xl font-medium transition-all text-xs sm:text-base",children:"Abbrechen"}),(0,b.jsx)("button",{type:"submit",disabled:v,className:"flex-1 px-3 sm:px-4 py-2 sm:py-3 text-white bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 disabled:from-gray-600 disabled:to-gray-700 rounded-lg sm:rounded-2xl font-bold transition-all shadow-lg shadow-purple-500/40 hover:shadow-purple-500/60 hover:scale-[1.02] active:scale-95 text-xs sm:text-base",children:v?"Wird gespeichert...":"Änderungen speichern"})]})]})]}),(0,b.jsx)("div",{className:"mt-6 sm:mt-8 flex justify-center",children:(0,b.jsx)("button",{onClick:()=>{e.auth.logout(),a.push("/login")},className:"px-6 sm:px-8 py-2 sm:py-3 text-red-400 border border-red-500/30 hover:border-red-500/60 hover:bg-red-500/10 rounded-lg sm:rounded-2xl font-medium transition-all text-xs sm:text-base",children:"Abmelden"})})]})})]}):(0,b.jsx)("div",{className:"min-h-screen bg-[#0a0a0f] flex items-center justify-center",children:(0,b.jsx)("p",{className:"text-gray-400 text-base sm:text-lg",children:"Profil konnte nicht geladen werden"})})}a.s(["default",()=>f])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__51ab47ff._.js.map