(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,s)=>{t.exports=e.r(76562)},26998,e=>{"use strict";let t=async(e,t={})=>{let s=localStorage.getItem("token"),r={"Content-Type":"application/json",...t.headers};s&&(r.Authorization=`Bearer ${s}`);let l=await fetch(`/api${e}`,{...t,headers:r});if(!l.ok){let e={error:"API Error"};try{let t=l.headers.get("content-type");e=t?.includes("application/json")?await l.json():{error:`HTTP ${l.status}: ${l.statusText}`}}catch(t){e={error:`HTTP ${l.status}: ${l.statusText}`}}if(401===l.status){let e="/login"===window.location.pathname,t="/register"===window.location.pathname;e||t||(localStorage.removeItem("token"),localStorage.removeItem("userId"),window.location.href="/login")}throw Error(e.error||"API Error")}return l.json()};e.s(["auth",0,{register:(e,s)=>t("/auth/register",{method:"POST",body:JSON.stringify({username:e,password:s})}),login:(e,s)=>t("/auth/login",{method:"POST",body:JSON.stringify({username:e,password:s})}),me:()=>t("/auth/me"),updateProfile:(e,s)=>t("/auth/profile",{method:"PUT",body:JSON.stringify({currentPassword:e,newPassword:s})}),logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("userId")}},"collaborators",0,{getAll:e=>t(`/lists/${e}/collaborators`),invite:(e,s,r)=>t(`/lists/${e}/collaborators`,{method:"POST",body:JSON.stringify({username:s,role:r})}),add:(e,s,r)=>t(`/lists/${e}/collaborators`,{method:"POST",body:JSON.stringify({userId:s,role:r})}),update:(e,s,r)=>t(`/lists/${e}/collaborators/${s}`,{method:"PUT",body:JSON.stringify({role:r})}),remove:(e,s)=>t(`/lists/${e}/collaborators/${s}`,{method:"DELETE"}),accept:(e,s)=>t(`/lists/${e}/collaborators/${s}/accept`,{method:"POST"})},"items",0,{getAll:e=>t(`/lists/${e}/items`),create:(e,s)=>t(`/lists/${e}/items`,{method:"POST",body:JSON.stringify({name:s})}),update:(e,s,r)=>t(`/lists/${e}/items/${s}`,{method:"PUT",body:JSON.stringify({completed:r})}),updateCategory:(e,s,r)=>t(`/lists/${e}/items/${s}`,{method:"PUT",body:JSON.stringify({category:r})}),delete:(e,s)=>t(`/lists/${e}/items/${s}`,{method:"DELETE"})},"lists",0,{getAll:()=>t("/lists"),getById:e=>t(`/lists/${e}`),create:(e,s="")=>t("/lists",{method:"POST",body:JSON.stringify({title:e,description:s})}),update:(e,s,r)=>t(`/lists/${e}`,{method:"PUT",body:JSON.stringify({title:s,description:r})}),delete:e=>t(`/lists/${e}`,{method:"DELETE"}),getCategories:e=>t(`/lists/${e}/categories`),syncCategory:(e,s,r)=>t(`/lists/${e}/categories`,{method:"POST",body:JSON.stringify({itemName:s,category:r})}),deleteCategory:(e,s)=>t(`/lists/${e}/categories/${encodeURIComponent(s)}`,{method:"DELETE"}),getCategoryOrder:e=>t(`/lists/${e}/categories/order`),updateCategoryOrder:(e,s)=>t(`/lists/${e}/categories/order`,{method:"PUT",body:JSON.stringify({categories:s})})},"recipes",0,{getAll:()=>t("/recipes"),getById:e=>t(`/recipes/${e}`),create:(e,s="",r=[])=>t("/recipes",{method:"POST",body:JSON.stringify({title:e,description:s,items:r})}),update:(e,s,r,l)=>t(`/recipes/${e}`,{method:"PUT",body:JSON.stringify({title:s,description:r,items:l})}),delete:e=>t(`/recipes/${e}`,{method:"DELETE"}),addItem:(e,s)=>t(`/recipes/${e}/items`,{method:"POST",body:JSON.stringify({name:s})}),deleteItem:(e,s)=>t(`/recipes/${e}/items/${s}`,{method:"DELETE"}),addToList:(e,s,r)=>t(`/recipes/${e}/add-to-list`,{method:"POST",body:JSON.stringify({listId:s,selectedItemIds:r})})}])},13278,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(18566),l=e.i(26998);function o(){let e=(0,r.useRouter)(),[o,a]=(0,s.useState)(null),[i,d]=(0,s.useState)(!0),[n,m]=(0,s.useState)(""),[c,x]=(0,s.useState)(""),[u,p]=(0,s.useState)(!1),[h,g]=(0,s.useState)(""),[b,f]=(0,s.useState)(""),[y,N]=(0,s.useState)(""),[j,v]=(0,s.useState)(!1);(0,s.useEffect)(()=>{p(!0)},[]),(0,s.useEffect)(()=>{u&&(w(),S())},[u]);let w=()=>{localStorage.getItem("token")||e.push("/login")},S=async()=>{try{d(!0);let e=await l.auth.me();a(e)}catch(e){m(e instanceof Error?e.message:"Fehler beim Laden des Profils"),console.error(e)}finally{d(!1)}},$=async e=>{if(e.preventDefault(),m(""),x(""),!h)return void m("Aktuelles Passwort erforderlich zur Bestätigung");if(b&&b!==y)return void m("Passwörter stimmen nicht überein");if(b&&b.length<3)return void m("Neues Passwort muss mindestens 3 Zeichen lang sein");v(!0);try{await l.auth.updateProfile(h,b||void 0),x("Profil erfolgreich aktualisiert!"),f(""),N(""),g(""),setTimeout(()=>S(),1e3)}catch(e){m(e instanceof Error?e.message:"Fehler beim Aktualisieren")}finally{v(!1)}};return i?(0,t.jsx)("div",{className:"min-h-screen bg-[#0a0a0f] flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-10 sm:w-12 h-10 sm:h-12 border-4 border-purple-500/30 border-t-purple-500 rounded-full animate-spin mx-auto mb-3 sm:mb-4"}),(0,t.jsx)("p",{className:"text-xs sm:text-base text-gray-400",children:"Lädt Profil..."})]})}):o?(0,t.jsxs)("div",{className:"min-h-screen bg-[#0a0a0f] flex flex-col",children:[(0,t.jsx)("header",{className:"bg-gradient-to-b from-[#14141f] to-transparent border-b border-[#2d2d3f]/50",children:(0,t.jsx)("div",{className:"max-w-6xl mx-auto px-3 sm:px-6 py-4 sm:py-6",children:(0,t.jsxs)("div",{className:"flex justify-between items-center gap-2 sm:gap-4",children:[(0,t.jsxs)("button",{onClick:()=>e.push("/dashboard"),className:"inline-flex items-center gap-1 sm:gap-2 text-purple-400 hover:text-purple-300 text-xs sm:text-sm font-medium transition-all group flex-shrink-0",children:[(0,t.jsx)("svg",{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Zurück zum Dashboard"}),(0,t.jsx)("span",{className:"sm:hidden",children:"Zurück"})]}),(0,t.jsx)("h1",{className:"text-lg sm:text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent text-center flex-1",children:"Profil"}),(0,t.jsx)("div",{className:"w-0 sm:w-20"})]})})}),(0,t.jsx)("main",{className:"flex-1 flex flex-col items-center max-w-4xl mx-auto px-3 sm:px-6 py-4 sm:py-8 w-full",children:(0,t.jsxs)("div",{className:"w-full max-w-2xl",children:[(0,t.jsx)("div",{className:"bg-gradient-to-br from-[#14141f]/90 to-[#1a1a2e]/90 backdrop-blur-sm border border-purple-500/30 rounded-2xl sm:rounded-3xl p-6 sm:p-8 mb-4 sm:mb-8 shadow-2xl shadow-purple-500/20",children:(0,t.jsxs)("div",{className:"border-t border-purple-500/20 pt-4 sm:pt-6",children:[(0,t.jsxs)("div",{className:"mb-3 sm:mb-4",children:[(0,t.jsx)("label",{className:"text-gray-400 text-xs sm:text-sm",children:"Benutzername"}),(0,t.jsx)("p",{className:"text-white text-base sm:text-lg font-semibold",children:o.username})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-gray-400 text-xs sm:text-sm",children:"User ID"}),(0,t.jsxs)("p",{className:"text-white text-base sm:text-lg font-semibold",children:["#",o.id]})]})]})}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#14141f]/90 to-[#1a1a2e]/90 backdrop-blur-sm border border-purple-500/30 rounded-2xl sm:rounded-3xl p-6 sm:p-8 shadow-2xl shadow-purple-500/20",children:[(0,t.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-white mb-4 sm:mb-6",children:"Einstellungen ändern"}),n&&(0,t.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 text-red-400 px-3 sm:px-4 py-2 sm:py-3 rounded-lg sm:rounded-2xl mb-4 sm:mb-6 flex items-center justify-between backdrop-blur-sm",children:[(0,t.jsx)("span",{className:"text-xs sm:text-sm",children:n}),(0,t.jsx)("button",{onClick:()=>m(""),className:"text-red-400 hover:text-red-300 flex-shrink-0",children:"✕"})]}),c&&(0,t.jsxs)("div",{className:"bg-green-500/10 border border-green-500/30 text-green-400 px-3 sm:px-4 py-2 sm:py-3 rounded-lg sm:rounded-2xl mb-4 sm:mb-6 flex items-center justify-between backdrop-blur-sm",children:[(0,t.jsx)("span",{className:"text-xs sm:text-sm",children:c}),(0,t.jsx)("button",{onClick:()=>x(""),className:"text-green-400 hover:text-green-300 flex-shrink-0",children:"✕"})]}),(0,t.jsxs)("form",{onSubmit:$,className:"space-y-4 sm:space-y-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-300 text-xs sm:text-sm font-medium mb-2",children:"Aktuelles Passwort (zur Bestätigung)"}),(0,t.jsx)("input",{type:"password",value:h,onChange:e=>g(e.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-[#1a1a2e] border border-purple-500/30 rounded-lg sm:rounded-2xl text-white placeholder-gray-500 focus:outline-none focus:border-purple-400 focus:ring-2 focus:ring-purple-500/30 transition-all text-sm",placeholder:"••••••••",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-300 text-xs sm:text-sm font-medium mb-2",children:"Neues Passwort (optional)"}),(0,t.jsx)("input",{type:"password",value:b,onChange:e=>f(e.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-[#1a1a2e] border border-purple-500/30 rounded-lg sm:rounded-2xl text-white placeholder-gray-500 focus:outline-none focus:border-purple-400 focus:ring-2 focus:ring-purple-500/30 transition-all text-sm",placeholder:"••••••••"}),b&&(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Mindestens 3 Zeichen erforderlich"})]}),b&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-300 text-xs sm:text-sm font-medium mb-2",children:"Passwort wiederholen"}),(0,t.jsx)("input",{type:"password",value:y,onChange:e=>N(e.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-[#1a1a2e] border border-purple-500/30 rounded-lg sm:rounded-2xl text-white placeholder-gray-500 focus:outline-none focus:border-purple-400 focus:ring-2 focus:ring-purple-500/30 transition-all text-sm",placeholder:"••••••••"})]}),(0,t.jsxs)("div",{className:"flex gap-2 sm:gap-3 pt-3 sm:pt-4",children:[(0,t.jsx)("button",{type:"button",onClick:()=>e.push("/dashboard"),className:"flex-1 px-3 sm:px-4 py-2 sm:py-3 text-gray-300 bg-[#1a1a2e] border border-purple-500/20 hover:border-purple-500/50 hover:bg-[#14141f] rounded-lg sm:rounded-2xl font-medium transition-all text-xs sm:text-base",children:"Abbrechen"}),(0,t.jsx)("button",{type:"submit",disabled:j,className:"flex-1 px-3 sm:px-4 py-2 sm:py-3 text-white bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 disabled:from-gray-600 disabled:to-gray-700 rounded-lg sm:rounded-2xl font-bold transition-all shadow-lg shadow-purple-500/40 hover:shadow-purple-500/60 hover:scale-[1.02] active:scale-95 text-xs sm:text-base",children:j?"Wird gespeichert...":"Änderungen speichern"})]})]})]}),(0,t.jsx)("div",{className:"mt-6 sm:mt-8 flex justify-center",children:(0,t.jsx)("button",{onClick:()=>{l.auth.logout(),e.push("/login")},className:"px-6 sm:px-8 py-2 sm:py-3 text-red-400 border border-red-500/30 hover:border-red-500/60 hover:bg-red-500/10 rounded-lg sm:rounded-2xl font-medium transition-all text-xs sm:text-base",children:"Abmelden"})})]})})]}):(0,t.jsx)("div",{className:"min-h-screen bg-[#0a0a0f] flex items-center justify-center",children:(0,t.jsx)("p",{className:"text-gray-400 text-base sm:text-lg",children:"Profil konnte nicht geladen werden"})})}e.s(["default",()=>o])}]);